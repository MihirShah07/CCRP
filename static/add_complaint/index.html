<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ADD Complaint</title>
    <link rel="stylesheet" href="../home/style.css" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div id="toggle-btn">&#x02190;</div>
    <div id="sidebar">
      <a href="../home/index.html">Home</a>
      <a href="index.html">Add Complaint</a>
      <a href="../complaint_status/index.html">Status</a>
      <a href="../search_bar/index.html">Search</a>
      <!-- <a href="#contact">Contact</a> -->
    </div>
    <div id="content">
      <div class="container">
        <h2>Case Registration Form</h2>
        <form id="add_complaint">
          <div class="caseid-container">
            <label for="caseId">CASE ID</label>
            <input
              type="text"
              id="caseId"
              value="Auto-generated"
              disabled
              style="width: 150px"
            />
          </div>
          <div class="flex-container">
            <div>
              <label for="caseRegisteredDateTime"
                >Date and Time of Case Entry:</label
              >
              <input
                type="text"
                id="caseRegisteredDateTime"
                value="Automatically Fetched"
                disabled
              />
            </div>
            <div>
              <label for="complainerVisitDateTime"
                >Date and Time of Complainer Reporting:</label
              >
              <input
                type="datetime-local"
                id="complainerVisitDateTime"
                required
              />
            </div>
          </div>

          <div class="flex-container">
            <div>
              <label for="firstName">First Name:</label>
              <input type="text" id="firstName" required />
            </div>
            <div>
              <label for="middleName">Middle Name:</label>
              <input type="text" id="middleName" required />
            </div>
            <div>
              <label for="lastName">Last Name:</label>
              <input type="text" id="lastName" required />
            </div>
          </div>

          <label for="aadharCard">Aadhar Card Information (12 digits):</label>
          <input type="number" id="aadharCard" pattern="\d{12}" required />

          <div class="flex-container">
            <div>
              <label for="mobileNumber"
                >Complainer 10 digits Mobile Number:</label
              >
              <input type="tel" id="mobileNumber"  required />
            </div>
            <div>
              <label for="altMobileNumber">Alternative Mobile Number:</label>
              <input type="tel" id="altMobileNumber" pattern="\d{10}" />
            </div>
          </div>

          <div class="flex-container">
            <div>
              <label for="complainerEmail">Complainer Email Address:</label>
              <input type="email" id="complainerEmail" required />
            </div>
            <div>
              <label for="complainerAltEmail">Alternative Email Address:</label>
              <input type="email" id="complainerAltEmail" />
            </div>
          </div>
          <!-- <div class="checkbox-group">
                    <input type="checkbox" id="sameAsMobile">
                    <label for="sameAsMobile">Is Number Same as Mobile Number?</label>
                </div> -->
          <div>
            <label for="complainerAddress"
              >Complainer Address with PINCODDE</label
            >
            <textarea
              id="complainerAddress"
              rows="5"
              cols="75"
              required
            ></textarea>
          </div>
          <!-- <div>
                    <label for="complainerBioMetric">Complainer Bio Metric</label>
                    <input type="file" id="complainerBioMetric" accept="/image*">
                </div> -->

          <label for="dob">Date of Birth (complainer):</label>
          <input type="date" id="dob" required />

          <div class="radio-group">
            <label>Is Complainer Same as Victim?</label>
            Yes
            <input
              type="radio"
              name="sameAsComplainer"
              value="yes"
              id="sameAsComplainerYes"
              style="height: 15px; width: 15px;"
            />

            No
            <input
              type="radio"
              name="sameAsComplainer"
              value="no"
              id="sameAsComplainerNo"
              style="height: 15px; width: 15px;"
            />
          </div>

          <div id="victimFullNameContainer" style="display: none">
            <label for="victimFullName">Victim's Full Name:</label>
            <input type="text" id="victimFullName" />
          </div>

          <label for="relationship"
            >Relationship between Victim and Complainer:</label
          >
          <input type="text" id="relationship" disabled />

          <!-- Second Form Section -->
          <hr />
          <h2>Additional Case Information</h2>

          <label for="complainCategory">Cyber crime Category:</label>
          <select id="complainCategory" required>
            <option value="" disabled selected>Select Crime Category</option>
            <option value="Phishing">Phishing</option>
            <option value="IdentityTheft">Identity Theft</option>
            <option value="Malware">Malware Attacks</option>
            <option value="Hacking">Hacking</option>
            <option value="CyberBullying">Cyber Bullying</option>
            <option value="OnlineFraud">Online Fraud</option>
            <option value="DataBreach">Data Breach</option>
            <option value="Ransomware">Ransomware</option>
            <option value="OnlineScams">Online Scams</option>
            <option value="CyberEspionage">Cyber Espionage</option>
            <option value="SocialEngineering">Social Engineering</option>
            <option value="DenialOfService">
              Denial of Service (DoS) Attacks
            </option>
            <option value="Pharming">Pharming</option>
          </select>

          <label for="caseDescription">Description about the Case:</label>
          <textarea id="caseDescription" rows="5" cols="75" required></textarea>

          <label for="priority">Priority:</label>
          <select id="priority" required>
            <option value="" disabled selected>Select priority</option>
            <option value="Urgent">Urgent</option>
            <option value="Normal">Normal</option>
          </select>

          <label for="incidentDateTime">Date and Time of Incident:</label>
          <input type="datetime-local" id="incidentDateTime" required />

          <button type="submit" onclick="createNewCase()" id="submit">
            Submit
          </button>
        </form>
      </div>
    </div>
  </body>
</html>
<script src="../home/script.js"></script>
<script src="script.js"></script>
<script>
  window.onload = function () {
    createNewCase();

    // Set current datetime for "Date and Time of Case Registered"
    const caseRegisteredDateTimeInput = document.getElementById("caseRegisteredDateTime");
    caseRegisteredDateTimeInput.value = getCurrentDateTime();

    // Add event listener to "Is Complainer Same as Victim?" checkbox
    const sameAsComplainerCheckboxYes = document.getElementById("sameAsComplainerYes");
    const sameAsComplainerCheckboxNo = document.getElementById("sameAsComplainerNo");
   
    const relationshipInput = document.getElementById("relationship");
    const victimFullNameContainer = document.getElementById("victimFullNameContainer");
    const victimFullNameInput = document.getElementById("victimFullName");

    function updateDisplay() {
      relationshipInput.disabled = sameAsComplainerCheckboxYes.checked;
      victimFullNameContainer.style.display = sameAsComplainerCheckboxYes.checked ? "none" : "block";

      if (sameAsComplainerCheckboxYes.checked) {
        // If checked, clear the relationship value and victim's full name
        relationshipInput.value = "";
        victimFullNameInput.value = "";
      }
    }

    // Initial setup based on the default state of the checkbox
    updateDisplay();

    sameAsComplainerCheckboxYes.addEventListener("change", updateDisplay);

    sameAsComplainerCheckboxNo.addEventListener("change", function() {
      updateDisplay();
    });
  };
</script>
<script src="add_complaint.js"></script>
